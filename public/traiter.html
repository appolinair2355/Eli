<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kouam√© IA - Analyse des cartes</title>
  <style>
    body { background:#fff; color:#000; font-family:Arial, sans-serif; padding:20px; }
    textarea { width:100%; height:200px; padding:10px; border:1px solid #ccc; border-radius:8px; }
    button { margin-top:10px; padding:10px 20px; border:none; border-radius:8px; background:#007bff; color:#fff; cursor:pointer; }
    button:hover { background:#0056b3; }
    #result { margin-top:20px; padding:15px; border:1px solid #ddd; border-radius:8px; white-space:pre-wrap; }
  </style>
</head>
<body>
  <h1>Kouam√© IA</h1>
  <textarea id="input" placeholder="Collez vos donn√©es brutes ici..."></textarea>
  <br>
  <button onclick="askIA()">Analyser avec IA</button>
  <div id="result"></div>

  <script>
    async function askIA() {
      const input = document.getElementById("input").value;
      const resultDiv = document.getElementById("result");
      resultDiv.textContent = "Analyse en cours‚Ä¶";

      const question = `
Analyse ces mains :
- Supprime tous les tags (#T, ‚úÖ, üîµ#R, - etc.)
- Garde uniquement la premi√®re parenth√®se de chaque ligne
- Classe les cartes extraites selon cet ordre :
A‚ô†,K‚ô†,Q‚ô†,J‚ô†,10‚ô†,9‚ô†,8‚ô†,7‚ô†,6‚ô†,
A‚ô¶,K‚ô¶,Q‚ô¶,J‚ô¶,10‚ô¶,9‚ô¶,8‚ô¶,7‚ô¶,6‚ô¶,
A‚ô£,K‚ô£,Q‚ô£,J‚ô£,10‚ô£,9‚ô£,8‚ô£,7‚ô£,6‚ô£,
A‚ô•,K‚ô•,Q‚ô•,J‚ô•,10‚ô•,9‚ô•,8‚ô•,7‚ô•,6‚ô•

Exemple pour t‚Äôinspirer :

Donn√©es brutes :
‚úÖ #N1.2(A‚ô†Ô∏è,10‚ô¶Ô∏è,K‚ô¶Ô∏è)(extra)
- #N2.1(4‚ô£Ô∏è,J‚ô¶Ô∏è,J‚ô•Ô∏è)(bonus)
üîµ#R #N3.3(3‚ô•Ô∏è,7‚ô¶Ô∏è,A‚ô£Ô∏è)(autre)
#T12 #N4.2(7‚ô£Ô∏è,10‚ô•Ô∏è)(reste)

R√©sultat attendu :
A‚ô†
#N1.2(A‚ô†Ô∏è,10‚ô¶Ô∏è,K‚ô¶Ô∏è)

K‚ô¶
#N1.2(A‚ô†Ô∏è,10‚ô¶Ô∏è,K‚ô¶Ô∏è)

10‚ô¶
#N1.2(A‚ô†Ô∏è,10‚ô¶Ô∏è,K‚ô¶Ô∏è)

J‚ô¶
#N2.1(4‚ô£Ô∏è,J‚ô¶Ô∏è,J‚ô•Ô∏è)

J‚ô•
#N2.1(4‚ô£Ô∏è,J‚ô¶Ô∏è,J‚ô•Ô∏è)

4‚ô£
#N2.1(4‚ô£Ô∏è,J‚ô¶Ô∏è,J‚ô•Ô∏è)

3‚ô•
#N3.3(3‚ô•Ô∏è,7‚ô¶Ô∏è,A‚ô£Ô∏è)

7‚ô¶
#N3.3(3‚ô•Ô∏è,7‚ô¶Ô∏è,A‚ô£Ô∏è)

A‚ô£
#N3.3(3‚ô•Ô∏è,7‚ô¶Ô∏è,A‚ô£Ô∏è)

7‚ô£
#N4.2(7‚ô£Ô∏è,10‚ô•Ô∏è)

10‚ô•
#N4.2(7‚ô£Ô∏è,10‚ô•Ô∏è)

Maintenant fais la m√™me chose avec mes donn√©es :
      `;

      try {
        const res = await fetch("/ask", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ data: input, question })
        });

        const json = await res.json();
        if (json.success) {
          resultDiv.textContent = json.result;
        } else {
          resultDiv.textContent = "Erreur : " + json.error;
        }
      } catch (err) {
        resultDiv.textContent = "Erreur : " + err.message;
      }
    }
  </script>
</body>
</html>
